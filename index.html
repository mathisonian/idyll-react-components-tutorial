<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <title>Idyll Custom Components</title>
    <meta property="og:title" content="Idyll Custom Components" />
    <meta charset="utf-8" />
    <meta property="og:type" content="article" />

    <meta property="og:description" content="Short description of your project" />
    <meta property="description" content="Short description of your project" />

    <link rel="stylesheet" href="static/idyll_styles.css" />
  </head>
  <body>
    <div id="idyll-mount"><div data-reactroot=""><div class="idyll-root"><div class=" idyll-text-container"></div><div class="article-header" style="background:#222222;color:#ffffff"><h1 class="hed">WIP: Idyll Custom Components</h1><h2 class="dek">Creating your own custom components in Idyll</h2><div class="byline">By: <a href="https://github.com/tanalan">Alan Tan</a></div><div class="idyll-pub-date">Sun Aug 25 2019</div></div><div class=" idyll-text-container"><h2 id="introduction">Introduction</h2><p>Idyll is already rich with many <a href="https://idyll-lang.org/docs/components">built-it</a> components.
This article serves as a tutorial for writing your own custom components (in React)
in Idyll, and is an extension to Idyll’s <a href="https://idyll-lang.org/docs/components/custom">current docs</a> with custom components.</p><p><strong>TODO</strong> This article assumes basic knowledge from Idyll’s docs. (Wording?).</p><p>Since Idyll components are React components under the hood, it may be good to be familiar with the basics of React.
Their <a href="https://reactjs.org/docs/getting-started.html">docs</a> are well documented, and serve as a great starting point for learning React.</p><blockquote>Idyll posts are designed to support interaction and data-driven graphics.</blockquote><p>I will focus on creating a (basic?) custom component emphasizes Idyll’s interaction functionality, and ....??? TODO</p><h2 id="core-custom-component-ideas">Core custom component ideas</h2><p>Very important to an Idyll document’s interactivity is its interaction with its <strong>variables</strong>. This is important for
writing custom components that have interactivity with users, as well as other components.</p><p>In particular, for all custom components, Idyll injects an <code>updateProps</code>
method into the <code>props</code> object of a custom component. We pass our variables
into a custom component’s <code>props</code>, and the component can <code>updateProps</code>, which
facilitate interaction, because these same variables can be used for the <code>props</code> of other components!
<br/>
This is very powerful.</p><p>I demonstrate this with a small basic custom component, <code>TwoColors</code>.
Try clicking on a colored section below, and notice how the color selected text changes.</p><div><div style="background-color:green">Green</div><div style="background-color:orange">Orange</div></div><p>The color selected is <span class="idyll-display">not yet chosen</span></p><p>This <code>TwoColors</code> custom component is defined in my <code>components/</code> folder, with source code <a href="https://github.com/tanalan/idyll-react-components-tutorial/blob/master/components/two-colors.js">here</a>.
Once created, in my <code>index.idyll</code> document, I define a <code>var</code> called <code>theCurrentColor</code>, and pass this variable as a <code>prop</code>
to <code>TwoColors</code>. Finally, the current color is displayed using the default <a href="https://idyll-lang.org/docs/components/default/display">Display</a> component.</p><pre><code>[var name:&quot;theCurrentColor&quot; value:undefined /]
[TwoColors currentColor:theCurrentColor /]
// Scroll to see rest of code 
The color selected is [Display value:`theCurrentColor ? theCurrentColor : &quot;not yet chosen&quot;` /]</code></pre><p>Notice in the <a href="https://github.com/tanalan/idyll-react-components-tutorial/blob/master/components/two-colors.js#L11">source code</a> of <code>TwoColors</code> how it <code>updatesProps</code> to the respective color 
after clicking on a div.</p><p>As shown, the use of <code>var</code>s as <code>props</code> in custom components is core to Idyll’s interactivity!

</p><h2 id="a-custom-budget-component">A custom budget component</h2><p>Idyll is based on Markdown.</p><p>You can use familiar syntax
to create <strong>bold</strong> (<code>**bold**</code> ) and <em>italic</em> (`<code>*italic*</code> ) styles,</p><ul><li>lists</li><li>of</li><li>items,</li></ul><pre><code>* lists
* of
* items,</code></pre><ol><li>and numbered</li><li>lists</li><li>of items,</li></ol><pre><code>1. and numbered
2. lists
3. of items,</code></pre><p>in addition to <a href="https://idyll-lang.org">hyperlinks</a> and images:</p><img src="static/images/quill.svg" alt="quill"/><pre><code>![quill](static/images/quill.svg)</code></pre><h2 id="components">Components</h2><p>Components can be embedded using a bracket syntax:</p><pre><code>[Range /]</code></pre><p>and can contain nested content:</p><pre><code>[Equation]e = mc^{2}[/Equation]</code></pre><p>Components accept properties:</p><pre><code>[Range value:x min:0 max:1 /]</code></pre><p>that can be bound to variables to achieve interactivity (more in next section).</p><p>A variety of components are included by default. See <a href="https://idyll-lang.org/docs/components/">all the available components</a>. You can also use any html tag, for example: <code>[div] A div! [/div]</code>.</p><p>To create your own, add it to the <code>components/</code> folder. There are examples of how to use Idyll with React and D3 based components already included.</p><h2 id="interactivity">Interactivity</h2><p>Here is how you can instantiate a variable and bind it to a component:</p><input type="range" value="5" min="0" max="10" step="1"/><span class="idyll-display">5.00</span><pre><code>[var name:&quot;exampleVar&quot; value:5 /]

[Range min:0 max:10 value:exampleVar /]
[Display value:exampleVar /]</code></pre><h2 id="learn-more">Learn More</h2><p><span>To learn more see the documentation at <a href="https://idyll-lang.org/docs/,">https://idyll-lang.org/docs/,</a>
join our </span><a href="https://gitter.im/idyll-lang/Lobby">chatroom</a>, or see the project on <a href="https://github.com/idyll-lang/idyll">GitHub</a>.</p><hr/><h1 id="technical-details">Technical Details</h1><h2 id="installation">Installation</h2><ul><li>Make sure you have <code>idyll</code> installed (<code>npm i -g idyll</code>).</li><li>Clone this repo and run <code>npm install</code>.</li></ul><h2 id="developing-a-post-locally">Developing a post locally</h2><p>Run <code>idyll</code>.</p><h2 id="building-a-post-for-production">Building a post for production</h2><p>Run <code>idyll build</code>. The output will appear in the top-level <code>build</code> folder. To change the output location, change the <code>output</code> option in <code>package.json</code>.</p><h2 id="deploying">Deploying</h2><p>Make sure your post has been built, then deploy the docs folder via any static hosting service.</p><h2 id="dependencies">Dependencies</h2><p>You can install custom dependencies by running <code>npm install &lt;package-name&gt; --save</code>. Note that any collaborators will also need download the package locally by running <code>npm install</code> after pulling the changes.</p></div></div></div></div>
    <script src="static/idyll_index.js"></script>
  </body>
</html>
